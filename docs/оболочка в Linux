https://andreyex.ru/operacionnaya-sistema-linux/kak-uznat-kakuyu-obolochku-vy-ispolzuete-v-linux/

Как узнать, какую оболочку вы используете в Linux

Какую оболочку я использую в Linux? Для систем Linux доступно несколько оболочек. Некоторые из самых популярных из них:
◼ bash
◼ ksh
◼ zsh
◼ tcsh

Вы можете удивиться этому в нескольких ситуациях.

Например, если вы входите в неизвестную вам систему Linux, вы можете спросить, какая оболочка используется по умолчанию. Если вы часто меняете оболочку в Linux, вы можете спросить, какую оболочку вы используете в данный момент.

Позвольте нам показать вам различные команды Linux, чтобы выяснить, какую оболочку вы используете.



Узнайте, какую оболочку вы используете в Linux
Теперь нет команды, которая даст вам этот вывод со 100% точностью для всех оболочек. Но эти команды должны быть точными для большинства оболочек.



Способ 1
Вы можете использовать специальный параметр оболочки $$. «$$» указывает идентификатор процесса текущего экземпляра оболочки, которую вы запускаете. Этот параметр доступен только для чтения и не может быть изменен.

Если вы попытаетесь просмотреть информацию о процессе, она должна показать вам имя процесса, т.е. оболочку здесь.

ps -p $$
 
Вывод должен быть таким:

  PID TTY          TIME CMD
15012 pts/0    00:00:00 zsh


Способ 2
Вы также можете использовать $0. $0 может быть именем оболочки или именем сценария оболочки. Когда он используется внутри сценария оболочки, он обозначает имя сценария.

Но если вы используете его в оболочке без имени файла, он покажет имя оболочки.

echo $0

Вывод будет просто иметь имя оболочки:

echo $0
bash



Способ 3
Вы также можете использовать команду pstree. pstree означает дерево процессов и показывает все запущенные процессы в виде дерева.

Если вы не укажете аргумент, он покажет все процессы из init или systemd.

Однако, если вы дадите ему идентификатор процесса, он покажет весь этот процесс как корень дерева. Другими словами, он покажет все процессы, инициированные этим процессом.

Вы можете использовать тот же параметр $$ bash, который мы видели в методе 1.

pstree $$



Способ 4
Последний метод использует файлы в каталоге proc. Если вы прочитали статью о проверке информации о процессоре в Linux, вы, вероятно, уже знаете, что этот каталог содержит информацию о системе времени выполнения вашей системы Linux.

Вы можете использовать следующую команду, чтобы получить оболочку, которую вы используете:

cat /proc/$$/cmdline

Вывод должен дать вам имя оболочки.



Бонусный совет: узнайте версию оболочки
Итак, вы узнали, как узнать, какую оболочку вы используете. Как насчет версии используемой оболочки? Вы можете получить версию оболочки, просто добавив –version после имени вашей запущенной оболочки.

Например, если вы используете zsh, вы можете использовать это:

zsh --version

Вывод даст вам информацию о версии:

zsh 5.4.2 (x86_64-ubuntu-linux-gnu)
