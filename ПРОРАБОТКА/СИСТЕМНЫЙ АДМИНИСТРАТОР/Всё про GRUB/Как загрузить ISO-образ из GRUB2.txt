https://blog.desdelinux.net/ru/como-arrancar-una-imagen-iso-desde-grub2/

меры

1.- Отредактируйте файл /etc/grub.d/40_custom

sudo gedit /etc/grub.d/40_custom

Примечание: TonyDiaz с большой осторожностью советует нам изменять этот файл, а не /boot/grub/grub.cfg. Причина в том, что система заменяет grub.cfg каждый раз, когда вы вносите изменения в GRUB, что случается очень часто. По этой причине необходимо изменить шаблон, предназначенный исключительно для добавления пользовательских пунктов меню в GRUB: 40_обычай.

2.- Добавьте новую запись в меню, подобное показанному ниже:

menuentry "Лубунту в прямом эфире"{ 
установить root = (hd0,5) 
петля обратной связи /vbox/лубунту-10.10.исо 
linux (цикл) / casper / vmlinuz boot = casper iso-scan / filename =/vbox/лубунту-10.10.исо -- 
initrd (цикл) /casper/initrd.lz 
}

3.- Не забудьте отредактировать части, которые отображаются красным, где:

    меню: это имя, которое появится в списке GRUB2 при запуске ПК. В моем случае, как и я 
    установить корень: указывает, в каком разделе находится файл ISO. Чтобы узнать, какая конфигурация правильная, рассуждения просты. 

    Где ISO-образ моего любимого дистрибутива? На моем диске Y раздел X. Вы, вероятно, знаете, по какому пути смонтирован этот диск, но не знаете его имя устройства. Для этого…
    Я открыл «Система»> «Администрирование»> «Дисковая утилита» и, выбрав жесткий диск, на котором расположен рассматриваемый раздел, щелкните раздел, чтобы отобразить все его данные и характеристики.
    Выбрав раздел, найдите метку «Устройство» и посмотрите, какие данные он показывает. В моем случае это говорит: / Dev / sda5. Быть HDa или SDa это означает, что это диск 1; если бы это было SDb О Дb, это будет диск 2. Поскольку речь идет о sda5, это означает, что это 5-й раздел диска 1. В этом случае "set root" должен иметь (hd0, 5). Grub2 начинает счетчик дисков с 0, поэтому этот параметр сообщает вам, что образ ISO находится на диске 1, раздел 5. 

петлевой: указывает путь в разделе, где находится файл ISO. На этом этапе легко запутаться, потому что спрашивается не маршрут, на котором смонтирован этот диск, а остальная часть маршрута. Например, мой диск sda5 едет на / media / backup /. Следовательно, полный путь к папке, в которой находится рассматриваемый образ ISO, будет следующим: / медиа / резервное копирование / vbox /. Однако, как и в разделе «Установить корень», мы уже говорили вам, какой это диск и раздел, нет необходимости уточнять путь, по которому был смонтирован диск (/ media / backup /). По этой причине путь для входа в этот момент будет просто /vbox/file.iso.
linux (цикл): сообщает нам, какое ядро ​​использовать для загрузки и где оно находится. Рассуждения те же, что и в предыдущем пункте. Чтобы система загружалась с меню и окнами на испанском языке, а также с раскладкой клавиатуры, необходимо добавить параметры locale и bootkbd. Кроме того, чтобы вместо сообщений ядра отображалось изображение загрузки (заставка), необходимо добавить параметр заставки. Наконец, чтобы сгруппировать равные входы, вам нужно добавить параметр quiet. Итак, эта более «персонализированная» версия будет выглядеть так:

linux (цикл) / casper / vmlinuz boot = casper locale = es_ES bootkbd = es console-setup / layoutcode = es quiet splash iso-scan / filename = / vbox / lubuntu-10.10.iso -

initrd (цикл): сообщает нам, где находится initrd. 

4.- После сохранения файла, о котором идет речь, остается только обновить GRUB2:

sudo update-grub

Я только что попробовал этот метод с Lubuntu 10.10, и полная загрузка не заняла 20 секунд! Уверяю вас что это лучший способ протестировать бета-версии Ubuntu или других дистрибутивов. без изменения вашей системы, установки Virtual Box, необходимости записи компакт-диска или использования USB только для использования в качестве Live CD и.т.д.






https://habr.com/ru/articles/118472/

Ну, приступим. Первым делом добавляем новый пункт меню в Grub2. Для этого правим /etc/grub.d/custom_40, добавляя в конец файла следующие строки:

menuentry "Ubuntu Live" {
set root=(hd0,7)
loopback loop /ubuntu-11.04-desktop-amd64.iso
linux (loop)/casper/vmlinuz boot=casper iso-scan/filename=/ubuntu-11.04-desktop-amd64.iso noeject noprompt --
initrd (loop)/casper/initrd.lz
}

И что же мы тут наворотили:
В “set root” указываем раздел, в котором находится образ iso
В “loopback loop” создаем loop-устройство, к которому монтируем файл нашего iso (посмотрите, например, мануал mount, раздел “Loop Device”, если не знаете, что это за устройство loop).
Две следующие строчки указывают нахождение ядра и образа initrd относительно корня loop устройства (путь к файлам ядра и initrd внутри ISO-образа).

Если кто попытается повторить, имейте в виду:

1. В set root=(hd0,7) следует заменить 7 на номер раздела на вашей машине, в котором находится iso-шный образ системы. Например, если Вы загрузили ubuntu-11.04-desktop-amd64.iso в раздел /dev/sda1, строчка изменится на set root=(hd0,1).
2. Я загрузил ISO в корень своего home-раздела (коим является (hd0,7). Если у Вас образ окажется в какой-нибудь папке, указывайте полный путь к образу относительно корня.

Обновляем конфигурационный файл grub2:
update-grub

